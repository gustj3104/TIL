인터넷 네트워크

인터넷 통신
클라이언트 ---인터넷--- 서버
클라이언트와 서버가 거리가 멀면 -> 인터넷을 통해서 전달됨


IP(인터넷 프로토콜)
클라이언트가 먼저 IP주소를 부여받음 / 서버도 부여받음
- 지정한 IP 주소에 데이터 전달
- 패킷이라는 통신 단위로 데이터 전달
- 출발지와 목적지의 IP를 담은 패킷을 던져서 도달함
- 인터넷망이 복잡해서 경로 노드는 달라질 수 있음

한계
- 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷이 전송됨
- 비신뢰성 : 중간에 패킷이 사라지면? 순서대로 안오면?
- 프로그램 구분 : 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면? 막 게임도 하면서 음악도 들으면 어떻게 구분?

중간 노드가 꺼져버리면 패킷 소실.. = 비신뢰성
목적 컴퓨터가 꺼져있으면 전달 안됨 = 비연결성
패킷의 용량이 매우 클 경우 파일을 끊어서 보냄 -> hello 보내고 world를 보내도 world, hello순서로 도착할 가능성 있음(패킷 전달 순서 문제 발생) = 비신뢰성

TCP, UDP
TCP : IP의 문제를 해결하는 용도
IP패킷: 출발지, 목적지의 IP
TCP 세그먼트: 출발지, 목적지의 PORT, 전송 제어, 순서, 검증 정보 등

 특징
: 전송 제어 프로토콜
1. 연결지향 - TCP 3 way handshake (가상연결) 먼저 연결한 후 전공
2. 데이터 전달 보증 - 메시지 전송이 안될 경우 클라이언트가 알 수 있도록
3. 순서 보장

-> 신뢰할 수 있는 프로토콜(현재 대부분이 사용함)

TCP로 연결하면 
1. SYN(접속요청)메시지 전송 -> 서버가 ACK(요청 수락) 전송 -> 클라이언트가 ACK(요청 수락) 전송 / 데이터 전송

2. 클라이언트가 데이터 전송 / 서버가 잘 받았다고 전송 -> 전달 보증

3. 패킷1, 2, 3 순서로 전송 -> 패킷 1, '3', 2로 도착할 경우
 서버에서 2부터 다시 보내라고 요청 -> 클라이언트가 2부터 다시 보냄

UDP
: 사용자 데이터그램 프로토콜
- 기능 거의 없음(연결지향, 데이터전달보증, 순서보장  X)
- 데이터 전달, 순서는 보장되지 않지만 단순하고, 빠름 = TCP는 데이터 양도 크고, 전송속도도 느림 -> TCP는 이미 손대지 못함,, -> 내가 직접 최적화 할거야! 할 경우 UCP에서 개발
- IP와 거의 같지만 PORT와 체크섬만 추가 (애플리케이션에서 추가 작업 필요)
- PORT: 하나의 IP에서 여러가지 작업을 할 때, 패킷 구분 (음악용 패킷, 게임용 패킷)
- 체크섬: 메시지가 제대로 맞는지 검증하는 데이터

-> 최근 각광받고 있음

PORT
한 번에 둘 이상을 할 경우(게임, 화상통화, 웹 브라우저 요청)
- 한 클라이언트 PC가 여러 서버와 연결해야 함
- IP가 아파트이면 PORT는 호수라고 볼 수 있음
- 0 ~ 65535 할당
- 0~1023은 잘 알려진 포트 = 사용 지양
- HTTP: 80
- HTTPS(보안 추가된 버전): 443

DNS
: 도메인 네임 시스템
IP는 기억하기 어렵다..(200.200.200.2..?)
IP는 변경될 수 있음.
- 전화번호부
- 도메인 명을 IP주소로 변환
- DNS서버에 도메인 등록 가능 (google.com / 200.200.200.2)
- google.com(도메인 명) IP 주세요 -> DNS에서 200.200.200.2 응답-> 클라이언트가 200.200.200.2 접속 

나중에 IP가 바뀌면 DNS서버에서만 수정

